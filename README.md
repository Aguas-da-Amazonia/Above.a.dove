# Above.a.dove


A method that is far superior way of blocking Adobe's telemetry servers compared to /etc/hosts file editing - works on both macOS and Windows.

Still got a Genuine or License Pop Up window?
Report via [Issues](https://github.com/Giro-Da-Amazonia/Above.a.dove/issues)

## Usage

1) install Adobe apps  
2) install [Clash Verge](https://clash-verge.org)  
3) add the profile config, change mode from '**System Proxy**' to '**Tun mode**' and activate '**Tun mode**'  
4) if installing new Adobe apps in the future, disable Clash filtering for the time of the installation if you run into any issue, then turn back on

Setup video here

## Why would you use this method?

Blocking each app one by one with a Firewall app may be time consuming, not to mentions that blocking the main app is often not enough - for example in case of Acrobat Pro on Windows. Also if you are installing new versions regularly over the years you would again need to block those too.

Instead of the above steps, a simple one time central blocking is enough for the lifetime of your computer. Also it's far superior compared to /etc/hosts file blocking, which by the way became almost useless over the years. If you want to understand why, then continure reading. Some apps may actually need internet access to specific servers like for Generative AI functions or built-in tutorial videos, completely blocking them would be counter productive.

## Theory
there are 2 major category of hosts:
A - with permanent dns names like
  
ic.adobe.io
prod.adobegenuine.com
etc.

B - and random-looking dns hosts that are actually generated by a specific alghorhytm and based on observation the appearance of these hosts are time-coded, a dozen new appear in network traffic each day like:

pvit0rg7db.adobestats.io
qwidorfrss.adobestats.io
etc.
...as a result, if your /etc/hosts file is not updated daily, you will get a Genuine pop up windows very soon.

## A Huge Misconception about blocking

<ins>A proxy server with blocking rules is not a firewall!</ins>  
But why not?

Every proxy is focused on channeling http and https transit (port 80 and 443), but nothing else!
If an app decides to establish a connection to a remote server via port 6123 for example, then it just successfully bypassed the proxy, and guess what: Adobe apps do that!

Let's first understand what's happening when you are blocking a certain set of domains with a proxy app like Clash, how an app behaves:

Let's say we are blocking:

0.0.0.0  ic.adobe.io  
0.0.0.0  cc-api-data.adobe.io  
0.0.0.0  fp.adobestats.io  
0.0.0.0  hbc.adobe.io  
0.0.0.0  crs.cr.adobe.com  
0.0.0.0  gcos.adobe.io  
0.0.0.0  0mo5a70cqa.adobe.io < ***notice the seemingly random pattern (will talk about this later)***  
0.0.0.0  1b9khekel6.adobe.io < notice the seemingly random pattern  
0.0.0.0  1hzopx6nz7.adobe.io < notice the seemingly random pattern

In this example I'll describe the pop up mechanism of Premiere 2025 which I have not seen in earlier versions and is quite worring.

Upon launching the app will try to connect to a few dozen domains right away.
Most of them are harmless, and about half of them are capable of triggering a pop up message.

### First mistake with proxy
when you create a rule in proxy to block ic.adobe.io


In [Clash Verge](https://clash-verge.org) (available both for macOS & Windows) unlike in other proxy servers, you can use a **_Tun mode_** instead of the regular **_proxy mode_**, which will force all traffic to be routed over Clash and as a result all protocols (not just http & https) will be filtered by the rules you create - this a crusial step to make the filter list published here act as expected! 

<ins>Understanding the importance of DNS blocking vs /etc/hosts blocking</ins>  

## Pi-hole

If you want to perform the blocking centrally, instead of Clash as a proxy you can run your own DNS server - Pi-hole is a free solution.

Since version 5.x Pi-hole does not support Regex in filter lists, as a consequence it's not possuble to block subdomains via filter lists (imported and updated via URL) you'll have to add the domains to be blocked by hand and click on '**Add domain as wildcard**' button in order to block each subdomain too.

## FAQ

I setup Clash as by the instructions, but I still get a response when I ping ic.adobe.io or nkyvg348k9.adobestats.io. Why?
Although TUN mode forces TCP and UDP protocols being tunneled via Clash proxy (and DNS resolution too), and as such it's effectively blocking telemetry servers, ping is a special protocol called ICMP that is left untouched. However if you setup your own DNS server like Pi-hole, you will not get a PING response at all, because a DNS server is able to respond with NXDOMAIN = Non-Existent Domain error code.
